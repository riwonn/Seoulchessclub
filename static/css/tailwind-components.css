@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
    body {
        @apply bg-bg-primary text-text-primary font-body;
        @apply min-h-screen;
    }

    h1, h2, h3, h4, h5, h6 {
        @apply font-display;
    }

    /* Film grain effect */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        opacity: 0.4;
        z-index: -1;
        pointer-events: none;
        mix-blend-mode: overlay;
    }
}

/* Component styles */
@layer components {
    /* Card component */
    .card {
        @apply bg-bg-secondary border border-border-light rounded-lg p-6;
        @apply shadow-lg;
    }

    .card-hover {
        @apply card transition-all duration-base;
        @apply hover:transform hover:-translate-y-1 hover:shadow-glow-strong;
    }

    /* Button components */
    .btn {
        @apply font-display font-medium;
        @apply px-6 py-3 rounded-md;
        @apply border transition-all duration-base;
        @apply inline-flex items-center justify-center gap-2;
        @apply cursor-pointer;
    }

    .btn-primary {
        @apply btn;
        @apply bg-accent text-text-primary;
        @apply border-border-primary;
        @apply hover:bg-accent-hover hover:shadow-glow-strong hover:-translate-y-0.5;
        @apply hover:border-border-hover;
    }

    .btn-secondary {
        @apply btn;
        @apply bg-overlay-darker text-text-primary;
        @apply border-border-primary;
        @apply hover:bg-overlay-dark hover:-translate-y-0.5;
        @apply hover:border-border-hover;
    }

    .btn-accent {
        @apply btn;
        @apply bg-accent-secondary text-accent;
        @apply border-border-primary;
        @apply hover:shadow-glow hover:-translate-y-0.5;
    }

    /* Form components */
    .form-input {
        @apply w-full px-5 py-4;
        @apply bg-input-bg border border-border-subtle rounded-lg;
        @apply text-text-primary font-body;
        @apply transition-all duration-base;
        @apply focus:outline-none focus:border-border-focus focus:bg-input-focus;
        @apply focus:shadow-focus;
    }

    .form-label {
        @apply block text-sm mb-2;
        @apply text-text-secondary font-normal;
    }

    .form-textarea {
        @apply form-input;
        @apply resize-none;
    }

    .form-select {
        @apply form-input;
        @apply cursor-pointer appearance-none;
        @apply bg-no-repeat bg-right;
        background-position: right 18px center;
        background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%23e8d4f0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    }

    /* Alert components */
    .alert {
        @apply px-4 py-3 rounded-md border;
        @apply animate-fade-in;
    }

    .alert-success {
        @apply alert;
        @apply bg-green-900/20 border-success text-success;
    }

    .alert-error {
        @apply alert;
        @apply bg-red-900/20 border-error text-error;
    }

    /* Loading spinner */
    .spinner {
        @apply inline-block w-5 h-5 rounded-full;
        @apply border-2 border-transparent border-t-primary;
        @apply animate-spin;
    }

    /* Modal components */
    .modal-overlay {
        @apply fixed inset-0 z-50;
        @apply bg-black/50 backdrop-blur-md;
        @apply flex items-center justify-center;
        @apply transition-opacity duration-base;
    }

    .modal-content {
        @apply bg-bg-secondary rounded-xl p-6;
        @apply max-w-lg w-full mx-4;
        @apply shadow-lg border border-border-light;
        @apply transform transition-all duration-base;
    }

    /* Table components */
    .table-wrapper {
        @apply overflow-x-auto;
        -webkit-overflow-scrolling: touch;
    }

    .table {
        @apply w-full border-collapse;
    }

    .table thead {
        @apply bg-white/5;
    }

    .table th {
        @apply px-6 py-3 text-left text-xs font-medium;
        @apply text-text-secondary uppercase tracking-wider;
    }

    .table td {
        @apply px-6 py-4 text-sm text-text-primary;
        @apply border-t border-white/10;
    }

    .table tbody tr {
        @apply transition-colors duration-fast;
        @apply hover:bg-primary/5;
    }

    /* Badge component */
    .badge {
        @apply inline-flex items-center;
        @apply px-2 py-1 rounded-full;
        @apply text-xs font-medium;
        @apply bg-accent/50 text-primary;
    }

    /* Link component */
    .link {
        @apply text-primary underline-offset-2;
        @apply transition-colors duration-fast;
        @apply hover:text-accent-secondary hover:underline;
    }
}

/* Utility classes */
@layer utilities {
    .text-shadow-glow {
        text-shadow: 0 0 20px rgba(232, 164, 216, 0.4);
    }

    .bg-gradient-dark {
        background: linear-gradient(to bottom, #1e1e1e 70%, transparent);
    }
}
